# manage-dependencies 仕様

## 目的
SwitchBot Exporter が uv を用いて Python の依存関係を管理し、ローカル開発・CI・コンテナビルドで同一の再現可能なロックファイルを共有できるようにする方法を文書化する。

## 要件
### 要件: uv による依存関係管理
プロジェクトはローカル開発、CI、コンテナビルド全体を通じて Python の依存関係の解決と実行に uv を利用しなければならない。

#### シナリオ: 依存関係を解決する
- **WHEN** 開発環境をセットアップする、もしくは Docker イメージをビルドする
- **THEN** uv は `docker/` プロジェクトルートに保存されたピン留め済みの `uv.lock`（開発ツール用の `uv.dev.lock` を含む）を使って依存関係をインストールする
- **AND** Poetry CLI はビルドチェーンにもコントリビューター向けドキュメントにも登場しない。

#### シナリオ: プロジェクトのツールを実行する
- **WHEN** ドキュメント化されたワークフローに従って lint、型チェック、テストのコマンドを実行する
- **THEN** コマンドは uv が用意した環境内で実行され（`poetry run` ラッパーは使用しない）
- **AND** `poetry run` が利用可能であることを前提としない。
